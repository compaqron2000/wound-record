<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Space+Grotesk%3Awght%40400%3B500%3B700"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js'></script>
    
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden"
      style='font-family: "Space Grotesk", "Noto Sans", sans-serif;'
    >
      <div class="layout-container flex h-full grow flex-col px-6 py-5">
        <div class="flex flex-wrap -mx-4">
            
            <!-- Left Column: Inputs -->
            <div class="w-full lg:w-1/2 px-4">
                <div class="flex flex-wrap justify-between gap-3 p-4">
                  <div class="flex min-w-72 flex-col gap-3">
                    <p class="text-[#0e161b] tracking-light text-[32px] font-bold leading-tight">
                      Patient Wound Record
                    </p>
                    <p class="text-[#4e7a97] text-sm font-normal leading-normal">
                      How to get API Key https://aistudio.google.com/apikey 
                    </p>
                  </div>
                </div>
                
                <!-- API Key Section -->
                 <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                  API Key
                </h3>
                <div class="p-4">
                     <input type="password" id="api-key-input" class="form-input w-full max-w-sm rounded-xl border border-[#d0dee7] bg-slate-50 p-2 text-base font-normal leading-normal text-[#0e161b] focus:border-[#1993e5] focus:outline-none focus:ring-0" placeholder="Enter your Gemini API Key here">
                </div>

                <!-- Chief Complaint Section -->
                <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                  Chief Complaint
                </h3>
                <div class="p-4">
                    <textarea id="chief-complaint" class="form-input w-full min-h-24 rounded-xl border border-[#d0dee7] bg-slate-50 p-2 text-base font-normal leading-normal text-[#0e161b] focus:border-[#1993e5] focus:outline-none focus:ring-0" placeholder="Enter patient's chief complaint (e.g., fall from stairs, chest pain)..."></textarea>
                </div>


                <!-- Wound Details Section -->
                <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                  Wound Details
                </h3>
                <div class="flex flex-col gap-4 p-4">
                  <!-- Dropdowns for Side, Region, Part -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium leading-normal text-[#0e161b]">Side:</label>
                    <div id="side-buttons" class="flex flex-wrap gap-2 py-2">
                        <label class="side-btn-label text-base font-medium leading-normal flex items-center justify-center rounded-xl border border-[#d0dee7] px-4 h-11 text-[#0e161b] relative cursor-pointer">
                            <input type="radio" name="side-type" value="Left" class="absolute opacity-0 w-0 h-0">
                            <span class="flex items-center justify-center w-full h-full">Left</span>
                        </label>
                        <label class="side-btn-label text-base font-medium leading-normal flex items-center justify-center rounded-xl border border-[#d0dee7] px-4 h-11 text-[#0e161b] relative cursor-pointer">
                            <input type="radio" name="side-type" value="Right" class="absolute opacity-0 w-0 h-0">
                            <span class="flex items-center justify-center w-full h-full">Right</span>
                        </label>
                        <label class="side-btn-label text-base font-medium leading-normal flex items-center justify-center rounded-xl border border-[#d0dee7] px-4 h-11 text-[#0e161b] relative cursor-pointer">
                            <input type="radio" name="side-type" value="N/A" class="absolute opacity-0 w-0 h-0">
                            <span class="flex items-center justify-center w-full h-full">N/A</span>
                        </label>
                    </div>
                  </div>
                  <div class="flex flex-col">
                    <label class="text-base font-medium leading-normal text-[#0e161b]">Body Region:</label>
                    <select id="body-region-select" class="form-select w-full rounded-xl border border-[#d0dee7] bg-slate-50 p-2 text-base font-normal leading-normal text-[#0e161b] focus:border-[#1993e5] focus:outline-none focus:ring-0">
                      <option value="Select Region">Select Region</option>
                    </select>
                  </div>
                  <div class="flex flex-col">
                    <label class="text-base font-medium leading-normal text-[#0e161b]">Specific Part:</label>
                    <select id="specific-body-part-select" class="form-select w-full rounded-xl border border-[#d0dee7] bg-slate-50 p-2 text-base font-normal leading-normal text-[#0e161b] focus:border-[#1993e5] focus:outline-none focus:ring-0" disabled>
                      <option value="Select Part">Select Part</option>
                    </select>
                  </div>
                  <!-- Injury Type Radios -->
                  <div class="flex flex-col">
                    <label class="text-base font-medium leading-normal text-[#0e161b]">Injury Type:</label>
                    <div id="injury-type-radios" class="flex flex-wrap gap-2 py-2"></div>
                  </div>
                  <!-- Wound Description Textareas -->
                  <div id="wound-description-fields" class="flex flex-col gap-3"></div>
                   <div class="flex flex-wrap gap-4">
                        <button id="add-another-wound-description-btn" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#e7eef3] text-[#0e161b] text-base font-bold leading-normal tracking-[0.015em] self-start">
                            <span class="truncate">Add Another Wound Description</span>
                        </button>
                   </div>
                </div>
                <div class="flex px-4 py-3 justify-end">
                  <button id="add-wound-record-btn" class="flex w-full max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 bg-[#1993e5] text-slate-50 text-xl font-bold leading-normal tracking-[0.015em]">
                    <span class="truncate">Add Wound Record</span>
                  </button>
                </div>
            </div>

            <!-- Right Column: Outputs -->
            <div class="w-full lg:w-1/2 px-4">
                <!-- Wound Records Section -->
                <div class="flex justify-between items-center px-4 pt-4 lg:pt-24 pb-2">
                    <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em]">
                      Wound Records
                    </h3>
                    <button id="add-custom-entry-btn" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-yellow-200 hover:bg-yellow-300 text-yellow-800 text-base font-bold leading-normal tracking-[0.015em] self-start">
                        <span class="truncate">Other (Manual key in)</span>
                    </button>
                </div>
                <div id="wound-records-container" class="text-[#0e161b] text-base font-normal leading-normal h-32 border border-[#d0dee7] rounded-xl bg-slate-50 overflow-y-auto px-2 mx-4">
                    <div id="wound-records-display">No records added yet.</div>
                </div>

                <!-- Generate ICD-10 Button -->
                <div class="flex px-4 py-3 justify-center">
                  <button id="generate-icd-btn" class="flex w-full max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 bg-[#18629c] text-slate-50 text-xl font-bold leading-normal tracking-[0.015em]">
                    <span class="truncate">Generate ICD-10</span>
                  </button>
                </div>

                <!-- Final Report Section -->
                <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                    Final Report with ICD-10
                </h3>
                <p class="text-sm text-gray-500 px-4 pb-2">
                    Codes ending with ## are generated by AI and could not be verified against the NIH database.
                </p>
                <div id="final-report-display" class="text-[#0e161b] text-base font-normal leading-normal pb-3 pt-1 px-4 min-h-36 border border-[#d0dee7] rounded-xl bg-slate-50 overflow-auto whitespace-pre-wrap">
                    Click "Generate ICD-10" after adding records.
                </div>
                
                <!-- Generate Chart Button -->
                <div class="flex px-4 py-3 justify-center">
                  <button id="generate-chart-btn" class="flex w-full max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-6 bg-blue-800 hover:bg-blue-900 text-slate-50 text-xl font-bold leading-normal tracking-[0.015em]">
                    <span class="truncate">Generate Chart</span>
                  </button>
                </div>
                
                 <!-- Final Chart Display -->
                 <h3 class="text-[#0e161b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">
                    Generated Chart Note
                </h3>
                <textarea id="final-chart-display" class="form-input w-full min-h-96 rounded-xl border border-[#d0dee7] bg-slate-50 p-2 text-base font-normal leading-normal text-[#0e161b] focus:border-[#1993e5] focus:outline-none focus:ring-0 whitespace-pre-wrap" readonly></textarea>
                <div id="loading-indicator" class="hidden text-center p-4">
                    <p>Generating... Please wait.</p>
                </div>


                <!-- Action Buttons -->
                <div class="flex flex-col space-y-3 mt-4 px-4 items-end">
                     <button id="copy-chart-btn" class="flex w-full max-w-[240px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-green-600 hover:bg-green-700 text-slate-50 text-base font-bold leading-normal tracking-[0.015em]">
                        <span class="truncate">Copy Chart Note</span>
                    </button>
                    <button id="copy-records-btn" class="flex w-full max-w-[240px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-teal-600 hover:bg-teal-700 text-slate-50 text-base font-bold leading-normal tracking-[0.015em]">
                        <span class="truncate">Copy Wound Records</span>
                    </button>
                     <button id="clear-all-records-btn" class="flex w-full max-w-[240px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#e7eef3] text-[#0e161b] text-sm font-bold leading-normal tracking-[0.015em]">
                        <span class="truncate">Clear All Records</span>
                    </button>
                </div>
            </div>
        </div>
      </div>
    </div>

    <!-- Modals -->
    <div id="custom-alert-modal" class="modal-overlay hidden">
      <div class="modal-content">
        <p id="custom-alert-message" class="text-[#0e161b] text-lg font-medium leading-normal"></p>
        <div class="modal-buttons">
          <button id="custom-alert-ok" class="modal-button primary">OK</button>
        </div>
      </div>
    </div>
    <div id="custom-confirm-modal" class="modal-overlay hidden">
      <div class="modal-content">
        <p id="custom-confirm-message" class="text-[#0e161b] text-lg font-medium leading-normal"></p>
        <div class="modal-buttons">
          <button id="custom-confirm-cancel" class="modal-button secondary">Cancel</button>
          <button id="custom-confirm-ok" class="modal-button primary">Confirm</button>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
